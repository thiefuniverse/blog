<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>Thief&#39;s Valley</title>
    <meta charset="utf-8" />
    <meta name="author" content="thief" />
        <meta name="description" content="Welcome to Thief&#39;s Valley!" />
        <meta name="keywords" content="thiefuniverse flythief" />

    <meta name="viewport" content="width=device-width">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="/media/stylesheets/styles.css">
    <link rel="stylesheet" href="/media/stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width">
    <style type="text/css"></style>
</head>

<body class="wrapper">
  <header>
    <h1>Mustache--Logic-Less templates</h1>
<br>
<nav class="main-nav">
  <ul class="keywords">
      <li> <img class="keywords-image" src="/media/img/keywords.png">mustache</li>

  </ul>
  <a id="to_home" href="/index.html"><img src="/media/img/to_home.png"><b>Home</b></a>
</nav>

  </header>
  <section>
    
<div id="outline-container-thief" class="outline-2">
<h2 id="org-thief">Introduction</h2>
<div class="outline-text-2" id="text-org-thief">
<p>
mustache是一个模板体系,定义了一种很简单而实用的模板实现.下文中你可以看到这个模板体系的基本特点和python实现的使用方式．
</p>
</div>
</div>

<div id="outline-container-thief" class="outline-2">
<h2 id="org-thief">Basic Theory</h2>
<div class="outline-text-2" id="text-org-thief">
<p>
(以下代码用python3进行演示,使用了mustache模板的python实现，库名叫pystache)
</p>
</div>
<div id="outline-container-thief" class="outline-3">
<h3 id="org-thief">通过hash表来赋值创建模板</h3>
<div class="outline-text-3" id="text-org-thief">
</div><div id="outline-container-thief" class="outline-4">
<h4 id="org-thief">基本变量(键值)渲染</h4>
<div class="outline-text-4" id="text-org-thief">
<div class="org-src-container">
<pre class="src src-python">
import pystache
print(pystache.render('Hi {{person}}!', {'person': 'Mom'}))
#    : Hi Mom!

</pre>
</div>
</div>
</div>

<div id="outline-container-thief" class="outline-4">
<h4 id="org-thief">变量真值条件渲染</h4>
<div class="outline-text-4" id="text-org-thief">
<p>
通过判断hashtable中键值(#加变量)是否存在(存在即为真值，或者变量名前加<sup>时只有变量值为假才渲染模板</sup>)，来渲染模板．
</p>
<div class="org-src-container">
<pre class="src src-python">
import pystache
renderer=pystache.Renderer()
parsed = pystache.parse(u"Hey {{#who}}{{.}}!{{/who}}")

print(renderer.render(parsed,{})) # who 不存在故不渲染who标签部分
print(renderer.render(parsed,{'who':'thief'}))　#分别根据who的值渲染出不同句子
print(renderer.render(parsed,{'who':'universe'}))

context = { 'author': 'Chris Wanstrath', 'maintainer': 'Chris Jerdonek' }# 一次传入多个值
print(pystache.render("Author: {{author}}\nMaintainer: {{maintainer}}", context))

print(pystache.render( "{{^is-sunny}}Take an umbrella!{{/is-sunny}}", {'is-sunny':False}))

# : Hey 
# : Hey thief!
# : Hey universe!
# : Author: Chris Wanstrath
# : Maintainer: Chris Jerdonek
# : Take an umbrella!

</pre>
</div>
</div>
</div>

<div id="outline-container-thief" class="outline-4">
<h4 id="org-thief">控制转义(3*{或者&amp;符号)</h4>
<div class="outline-text-4" id="text-org-thief">
<p>
对于变量值，如果是&lt;等其他一些特殊字符会被 <b>转义</b> ，用三个大括号或者&amp;符号可以取消转义，保留原字符．
</p>
<div class="org-src-container">
<pre class="src src-python">  
import pystache
renderer=pystache.Renderer()
parsed = pystache.parse(u"{{company}}\n{{&amp;company}}\n{{& company}}")

print(renderer.render(parsed,{'company':'&lt;b&gt;GitHub&lt;/b&gt;'}))
# : &amp;lt;b&amp;gt;GitHub&amp;lt;/b&amp;gt;
# : &lt;b&gt;GitHub&lt;/b&gt;
# : &lt;b&gt;GitHub&lt;/b&gt;


</pre>
</div>
</div>
</div>

<div id="outline-container-thief" class="outline-4">
<h4 id="org-thief">列表渲染</h4>
<div class="outline-text-4" id="text-org-thief">
<p>
对于列表，还可以作列表渲染．当#变量存在，且hashtable中的值对应为一个列表时，mustache会进行列表渲染．
分别针对值列表的每个元素依次渲染出结果．
</p>


<div class="org-src-container">
<pre class="src src-python">
import pystache
renderer=pystache.Renderer()
parsed = pystache.parse(u"{{#repo}}\nhello,{{name}}! you are {{age}}\n{{/repo}}")

print(renderer.render(parsed,
		{'repo':[
			  {"name":"thief","age":33},
			  {"name":"fly","age":88},
			  {"name":"universe","age":99}
		]}))
#  : hello,thief! you are 33
#  : hello,fly! you are 88
#  : hello,universe! you are 99     

</pre>
</div>
</div>
</div>

<div id="outline-container-thief" class="outline-4">
<h4 id="org-thief">注释方式</h4>
<div class="outline-text-4" id="text-org-thief">
<div class="org-src-container">
<pre class="src src-python">
{{! It is a line for comment }}

</pre>
</div>
</div>
</div>

<div id="outline-container-thief" class="outline-4">
<h4 id="org-thief">模板嵌套</h4>
<div class="outline-text-4" id="text-org-thief">
<p>
mustache的标签支持模板嵌套(即一个模板中嵌入其他多个模板).如下是一个html模板嵌套的例子.
</p>
<div class="org-src-container">
<pre class="src src-html">
&lt;!-- use &gt; and tags name to embed tags-name.mustache file --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="en-us"&gt;
  {{&gt; header}}
  &lt;body class="wrapper"&gt;
    &lt;header&gt;
  {{&gt; person-zone}}
  {{&gt; nav}}
    &lt;/header&gt;
    &lt;section id="blog-index"&gt;
  {{&gt; blog-index}}
    &lt;/section&gt;
    {{&gt; footer}}
  &lt;/body&gt;
&lt;/html&gt;

</pre>
</div>
</div>
</div>

<div id="outline-container-thief" class="outline-4">
<h4 id="org-thief">标签符号修改</h4>
<div class="outline-text-4" id="text-org-thief">
<p>
mustache的标签可以在渲染过程中修改,原始为两个大括号.
</p>

<div class="org-src-container">
<pre class="src src-python"> 
{{default_tags}} #原始标签
{{=&lt;% %&gt;=}}   #标签改变为等号中间的新标签
&lt;% erb_style_tags %&gt;　#应用新标签
&lt;%={{ }}=%&gt; # 把标签改回默认的

</pre>
</div>
</div>
</div>

<div id="outline-container-thief" class="outline-4">
<h4 id="org-thief">lambda 表达式支持</h4>
<div class="outline-text-4" id="text-org-thief">
<p>
mustache标签支持lambda表达式来渲染改变标签内文字.(本人并未实践，感兴趣大家可以试试😆)
</p>
</div>
</div>
</div>
</div>

    <!-- disqus comment js -->

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </section>
  <footer>
  <small><a href="https://github.com/thiefuniverse"><strong>ThankFly</strong></a>'s <a href="/index.html">Personal Blog</a>.</small>
  <br>
  <small>about this page's <a href="https://github.com/thiefuniverse/blog-minimal">generation</a></small>
</footer>
<script src="javascripts/scale.fix.js"></script>
<script src="javascripts/scale.fix.js"></script>
  </body>
</html>
